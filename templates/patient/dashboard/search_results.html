{% extends 'base.html' %}
{% block content %}
<div class="search-results-container">
    <h2>Search Results for "{{ query }}"</h2>
    <div class="results-section">
        <h3>Patients</h3>
        {% if patient_results %}
            <ul>
            {% for patient in patient_results %}
                <li style="display:flex; align-items:center; gap:12px; margin:8px 0;">
                    {% if patient.profile_picture %}
                        <img src="{{ patient.profile_picture.url }}" alt="{{ patient.full_name }}" style="width:36px;height:36px;border-radius:50%;object-fit:cover;">
                    {% else %}
                        <div style="width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#8b5cf6);display:flex;align-items:center;justify-content:center;color:white;font-weight:600;">{{ patient.full_name|first|upper }}</div>
                    {% endif %}
                    <a href="{% url 'start_chat_with_user' %}?user_id={{ patient.user.id }}">{{ patient.full_name }} <span style="color:#6b7280;font-size:13px">({{ patient.user.username }})</span></a>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p>No patients found.</p>
        {% endif %}
    </div>
    <div class="results-section">
        <h3>Clinics</h3>
        {% if clinic_results %}
            <ul>
            {% for clinic in clinic_results %}
                <li style="display:flex; align-items:center; gap:12px; margin:8px 0;">
                    {% if clinic.profile_picture %}
                        <img src="{{ clinic.profile_picture.url }}" alt="{{ clinic.clinic_name }}" style="width:36px;height:36px;border-radius:8px;object-fit:cover;">
                    {% else %}
                        <div style="width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,#10b981,#06b6d4);display:flex;align-items:center;justify-content:center;color:white;font-weight:600;">{{ clinic.clinic_name|first|upper }}</div>
                    {% endif %}
                    <a href="{% url 'clinic_detail' clinic.id %}">{{ clinic.clinic_name }} <span style="color:#6b7280;font-size:13px">({{ clinic.city }}, {{ clinic.state }})</span></a>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p>No clinics found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
