{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NERO - Medical Connection Platform</title>
<link rel="icon" type="image/png" href="{% static 'n.png' %}">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    font-family:'Inter',sans-serif;
    min-height:100vh;
    background: #6CA8C9;
    overflow-x:hidden;
}

/* ================= ANIMATIONS ================= */

@keyframes fadeInUp{
    from{
        opacity:0;
        transform:translateY(40px);
    }
    to{
        opacity:1;
        transform:translateY(0);
    }
}

@keyframes fadeInDown{
    from{
        opacity:0;
        transform:translateY(-40px);
    }
    to{
        opacity:1;
        transform:translateY(0);
    }
}

@keyframes fadeInLeft{
    from{
        opacity:0;
        transform:translateX(-50px);
    }
    to{
        opacity:1;
        transform:translateX(0);
    }
}

@keyframes fadeInRight{
    from{
        opacity:0;
        transform:translateX(50px);
    }
    to{
        opacity:1;
        transform:translateX(0);
    }
}

@keyframes scaleIn{
    from{
        opacity:0;
        transform:scale(0.8);
    }
    to{
        opacity:1;
        transform:scale(1);
    }
}

@keyframes float{
    0%, 100%{
        transform:translateY(0px);
    }
    50%{
        transform:translateY(-20px);
    }
}

@keyframes pulse{
    0%, 100%{
        transform:scale(1);
    }
    50%{
        transform:scale(1.05);
    }
}

@keyframes shimmer{
    0%{
        background-position:-1000px 0;
    }
    100%{
        background-position:1000px 0;
    }
}

@keyframes rotate{
    from{
        transform:rotate(0deg);
    }
    to{
        transform:rotate(360deg);
    }
}

/* Gradient Animation */
@keyframes gradientShift{
    0%{
        background-position:0% 50%;
    }
    50%{
        background-position:100% 50%;
    }
    100%{
        background-position:0% 50%;
    }
}

/* Login Button Attention Animations */
@keyframes loginPulse{
    0%, 100%{
        transform:scale(1);
        box-shadow:0 0 0 0 rgba(255,255,255,0.7);
    }
    50%{
        transform:scale(1.08);
        box-shadow:0 0 20px 10px rgba(255,255,255,0);
    }
}

@keyframes loginGlow{
    0%, 100%{
        box-shadow:0 0 5px rgba(255,255,255,0.5),
                   0 0 10px rgba(255,255,255,0.4),
                   0 0 15px rgba(255,255,255,0.3);
    }
    50%{
        box-shadow:0 0 10px rgba(255,255,255,0.8),
                   0 0 20px rgba(255,255,255,0.6),
                   0 0 30px rgba(255,255,255,0.4),
                   0 0 40px rgba(255,255,255,0.2);
    }
}

@keyframes loginShine{
    0%{
        left:-100%;
    }
    50%, 100%{
        left:100%;
    }
}

@keyframes loginBounce{
    0%, 20%, 50%, 80%, 100%{
        transform:translateY(0);
    }
    40%{
        transform:translateY(-8px);
    }
    60%{
        transform:translateY(-4px);
    }
}

/* ================= MAIN CONTAINER ================= */

.main-container{
    width:100%;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    position:relative;
    background: linear-gradient(-20deg, #6CA8C9, #6CA8C9);
    background-size:400% 400%;

}

/* Floating Background Elements */
.bg-decoration{
    position:absolute;
    border-radius:50%;
    background:rgba(255,255,255,0.1);
    pointer-events:none;
}

.bg-circle-1{
    width:300px;
    height:300px;
    top:10%;
    right:5%;
    animation:float 6s ease-in-out infinite;
}

.bg-circle-2{
    width:200px;
    height:200px;
    bottom:15%;
    left:8%;
    animation:float 8s ease-in-out infinite 1s;
}

.bg-circle-3{
    width:150px;
    height:150px;
    top:50%;
    left:15%;
    animation:float 7s ease-in-out infinite 2s;
}

/* ================= NAV BAR ================= */

.navbar{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:25px 60px 15px;
    position:relative;
    z-index:100;
    animation:fadeInDown 0.8s ease-out;
}

.logo-container{
    width:150px;
    height:150px;
    display:flex;
    align-items:center;
    justify-content:center;
    filter:brightness(0) invert(1);
    transition:transform 0.3s ease;
}

.logo-container:hover{
    transform:scale(1.1) rotate(5deg);
}

.logo{
    width:100%;
    height:100%;
    object-fit:contain;
}

.nav-buttons{
    display:flex;
    gap:15px;
}

.nav-button{
    border:3px solid white;
    padding:10px 25px;
    border-radius:50px;
    color:white;
    font-size:16px;
    cursor:pointer;
    transition:all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    background:transparent;
    font-weight:600;
    text-decoration:none;
    display:inline-block;
    position:relative;
    overflow:hidden;
}

.nav-button::before{
    content:'';
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:rgba(255,255,255,0.3);
    transition:left 0.4s ease;
}

.nav-button:hover::before{
    left:100%;
}

.nav-button:hover{
    background:rgba(255,255,255,0.2);
    transform:translateY(-3px) scale(1.05);
    box-shadow:0 10px 20px rgba(0,0,0,0.2);
}

.nav-button:active{
    transform:translateY(-1px) scale(1.02);
}

/* Special Login Button Styling */
.nav-button.login-btn{
    background:linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.15));
    border:3px solid white;
    font-weight:700;
    animation:loginPulse 2.5s ease-in-out infinite,
              loginGlow 2s ease-in-out infinite;
    position:relative;
    overflow:hidden;
}

.nav-button.login-btn::before{
    content:'';
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(90deg, 
                transparent, 
                rgba(255,255,255,0.6), 
                transparent);
    animation:loginShine 3s ease-in-out infinite;
}

.nav-button.login-btn::after{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:100%;
    height:100%;
    background:radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
    transform:translate(-50%, -50%) scale(0);
    transition:transform 0.5s ease;
}

.nav-button.login-btn:hover{
    background:white;
    color:#6CA8C9;
    transform:translateY(-5px) scale(1.1);
    box-shadow:0 15px 35px rgba(255,255,255,0.4),
               0 0 30px rgba(255,255,255,0.6);
    animation:none;
}

.nav-button.login-btn:hover::after{
    transform:translate(-50%, -50%) scale(1.5);
}

/* ================= MUSIC TOGGLE BUTTON ================= */

.music-toggle{
    position:fixed;
    bottom:30px;
    right:30px;
    width:60px;
    height:60px;
    border-radius:50%;
    background:linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
    border:3px solid white;
    box-shadow:0 8px 25px rgba(0,0,0,0.3);
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:1000;
    transition:all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    animation:float 3s ease-in-out infinite;
}

.music-toggle:hover{
    transform:scale(1.15) translateY(-5px);
    box-shadow:0 12px 35px rgba(0,0,0,0.4);
}

.music-toggle:active{
    transform:scale(0.95);
}

.music-toggle.playing{
    background:linear-gradient(135deg, #6CA8C9, #5B9AB8);
    animation:pulse 1.5s ease-in-out infinite, float 3s ease-in-out infinite;
}

.music-toggle.playing::before{
    content:'';
    position:absolute;
    width:100%;
    height:100%;
    border-radius:50%;
    border:3px solid rgba(108,168,201,0.5);
    animation:ripplePulse 2s ease-out infinite;
}

@keyframes ripplePulse{
    0%{
        transform:scale(1);
        opacity:1;
    }
    100%{
        transform:scale(1.5);
        opacity:0;
    }
}

.music-icon{
    font-size:24px;
    color:#6CA8C9;
    transition:all 0.3s ease;
}

.music-toggle.playing .music-icon{
    color:white;
    animation:musicBounce 0.6s ease-in-out infinite;
}

@keyframes musicBounce{
    0%, 100%{
        transform:scale(1);
    }
    50%{
        transform:scale(1.2);
    }
}

/* ================= MAIN CONTENT ================= */

.content-wrapper{
    display:flex;
    flex:1;
    padding:20px 60px 60px;
    align-items:center;
    gap:60px;
    position:relative;
    z-index:10;
}

/* Left Content */

.left-content{
    flex:1;
    max-width:600px;
    color:white;
    padding-top:20px;
}

.left-content h1{
    font-size:56px;
    font-weight:800;
    margin-bottom:25px;
    line-height:1.1;
    animation:fadeInLeft 1s ease-out;
    background:linear-gradient(135deg, #ffffff 0%, #e0f2ff 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
}

.left-content p{
    font-size:20px;
    line-height:1.6;
    margin-bottom:20px;
    opacity:0;
    animation:fadeInLeft 1s ease-out forwards;
}

.left-content p:nth-child(2){
    animation-delay:0.2s;
}

.left-content p:nth-child(3){
    animation-delay:0.4s;
}

/* Stats Section */

.stats-container{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:20px;
    margin:35px 0;
}

.stat-item{
    text-align:center;
    padding:25px 20px;
    background:rgba(255,255,255,0.15);
    border-radius:20px;
    backdrop-filter:blur(10px);
    border:2px solid rgba(255,255,255,0.3);
    transition:all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    opacity:0;
    animation:scaleIn 0.6s ease-out forwards;
    cursor:pointer;
}

.stat-item:nth-child(1){
    animation-delay:0.6s;
}

.stat-item:nth-child(2){
    animation-delay:0.8s;
}

.stat-item:nth-child(3){
    animation-delay:1s;
}

.stat-item:hover{
    transform:translateY(-10px) scale(1.05);
    background:rgba(255,255,255,0.25);
    border-color:rgba(255,255,255,0.5);
    box-shadow:0 15px 35px rgba(0,0,0,0.3);
}

.stat-number{
    font-size:36px;
    font-weight:800;
    margin-bottom:8px;
    background:linear-gradient(135deg, #ffffff 0%, #e0f2ff 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
}

.stat-label{
    font-size:14px;
    opacity:0.95;
    font-weight:500;
}

/* CTA Button */

.cta-button{
    background:white;
    color:#6CA8C9;
    border:none;
    padding:18px 45px;
    border-radius:50px;
    font-size:18px;
    font-weight:700;
    cursor:pointer;
    transition:all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow:0 10px 30px rgba(0,0,0,0.3);
    margin-top:10px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:12px;
    text-decoration:none;
    position:relative;
    overflow:hidden;
    opacity:0;
    animation:scaleIn 0.6s ease-out 1.2s forwards;
}

.cta-button::before{
    content:'';
    position:absolute;
    top:50%;
    left:50%;
    width:0;
    height:0;
    border-radius:50%;
    background:rgba(108,168,201,0.1);
    transform:translate(-50%, -50%);
    transition:width 0.6s ease, height 0.6s ease;
}

.cta-button:hover::before{
    width:300px;
    height:300px;
}

.cta-button:hover{
    transform:translateY(-5px) scale(1.05);
    box-shadow:0 15px 40px rgba(0,0,0,0.4);
}

.cta-button span{
    transition:transform 0.3s ease;
    display:inline-block;
}

.cta-button:hover span{
    transform:translateX(5px);
}

.cta-button:active{
    transform:translateY(-2px) scale(1.02);
}

/* Right Content */

.right-content{
    flex:1;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:30px;
    position:relative;
}

.main-image-container{
    width:420px;
    height:520px;
    border-radius:40px;
    overflow:hidden;
    box-shadow:0 25px 60px rgba(0,0,0,0.4);
    background:white;
    padding:12px;
    transition:all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    opacity:0;
    animation:fadeInRight 1s ease-out 0.4s forwards;
    position:relative;
}

.main-image-container::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:linear-gradient(135deg, rgba(108,168,201,0.3) 0%, transparent 100%);
    opacity:0;
    transition:opacity 0.4s ease;
    z-index:1;
    border-radius:40px;
}

.main-image-container:hover::before{
    opacity:1;
}

.main-image-container:hover{
    transform:translateY(-10px) scale(1.02);
    box-shadow:0 30px 70px rgba(0,0,0,0.5);
}

.main-image{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:32px;
    transition:transform 0.5s ease;
}

.main-image-container:hover .main-image{
    transform:scale(1.05);
}

/* About Section */

.about-section{
    background:white;
    padding:30px 35px;
    border-radius:30px;
    box-shadow:0 15px 40px rgba(0,0,0,0.2);
    width:420px;
    border:2px solid rgba(108,168,201,0.2);
    transition:all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    opacity:0;
    animation:fadeInRight 1s ease-out 0.8s forwards;
    position:relative;
    overflow:hidden;
}

.about-section::before{
    content:'';
    position:absolute;
    top:-50%;
    right:-50%;
    width:200%;
    height:200%;
    background:linear-gradient(45deg, transparent 30%, rgba(108,168,201,0.1) 50%, transparent 70%);
    transform:rotate(45deg);
    animation:shimmer 3s infinite;
}

.about-section:hover{
    transform:translateY(-8px);
    box-shadow:0 20px 50px rgba(0,0,0,0.3);
    border-color:rgba(108,168,201,0.4);
}

.about-title{
    color:#2c5282;
    font-size:26px;
    font-weight:800;
    margin-bottom:18px;
    position:relative;
}

.about-title::after{
    content:'';
    position:absolute;
    bottom:-8px;
    left:0;
    width:60px;
    height:4px;
    background:linear-gradient(90deg, #6CA8C9, #4A8CA7);
    border-radius:2px;
}

.about-text{
    color:#4a5568;
    font-size:15px;
    line-height:1.7;
    margin-bottom:12px;
    position:relative;
}

/* ================= FOOTER ================= */

.footer{
    background:linear-gradient(135deg, #2c5282 0%, #1e3a5f 100%);
    color:white;
    text-align:center;
    padding:40px 20px;
    margin-top:80px;
    position:relative;
    overflow:hidden;
}

.footer::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    right:0;
    height:3px;
    background:linear-gradient(90deg, transparent, #6CA8C9, transparent);
}

.footer p{
    margin:10px 0;
    font-size:14px;
    opacity:0;
    animation:fadeInUp 0.6s ease-out forwards;
}

.footer p:nth-child(1){
    animation-delay:0.2s;
}

.footer p:nth-child(2){
    animation-delay:0.4s;
}

.footer a{
    color:#90cdf4;
    text-decoration:none;
    font-weight:600;
    transition:all 0.3s ease;
    position:relative;
}

.footer a::after{
    content:'';
    position:absolute;
    bottom:-2px;
    left:0;
    width:0;
    height:2px;
    background:#90cdf4;
    transition:width 0.3s ease;
}

.footer a:hover::after{
    width:100%;
}

.footer a:hover{
    color:#bee3f8;
}

/* ================= RESPONSIVE ================= */

@media(max-width:1200px){
    .content-wrapper{
        flex-direction:column;
        text-align:center;
        gap:50px;
        padding:20px 40px 40px;
    }
    
    .left-content{
        max-width:800px;
    }
    
    .left-content h1{
        animation:fadeInUp 1s ease-out;
    }
    
    .left-content p{
        animation:fadeInUp 1s ease-out forwards;
    }
    
    .right-content{
        width:100%;
        max-width:800px;
    }
    
    .main-image-container,
    .about-section{
        animation:fadeInUp 1s ease-out forwards;
    }
    
    .main-image-container{
        width:380px;
        height:480px;
        animation-delay:0.4s;
    }
    
    .about-section{
        width:380px;
        animation-delay:0.6s;
    }
    
    .bg-circle-1,
    .bg-circle-2,
    .bg-circle-3{
        opacity:0.5;
    }
}

@media(max-width:768px){
    .navbar{
        padding:18px 24px 15px;
        flex-direction:column;
        gap:15px;
        align-items:center;
    }

    .logo-container{
        width:120px;
        height:120px;
    }

    .nav-buttons{
        flex-wrap:wrap;
        justify-content:center;
        gap:10px;
    }

    .nav-button{
        padding:10px 20px;
        font-size:14px;
    }

    .nav-button.login-btn{
        animation:loginPulse 2s ease-in-out infinite,
                  loginBounce 2.5s ease-in-out infinite;
    }

    .content-wrapper{
        padding:15px 24px 30px;
        gap:35px;
    }

    .left-content h1{
        font-size:38px;
    }

    .left-content p{
        font-size:17px;
    }

    .stats-container{
        grid-template-columns:repeat(2,1fr);
        max-width:460px;
        margin-left:auto;
        margin-right:auto;
        gap:15px;
    }

    .stat-item{
        padding:20px 15px;
    }

    .stat-number{
        font-size:30px;
    }

    .cta-button{
        padding:16px 35px;
        font-size:17px;
    }

    .main-image-container{
        width:340px;
        height:420px;
    }

    .about-section{
        width:340px;
        padding:25px 28px;
    }

    .bg-circle-1{
        width:200px;
        height:200px;
    }

    .bg-circle-2{
        width:150px;
        height:150px;
    }

    .bg-circle-3{
        width:100px;
        height:100px;
    }
}

@media(max-width:480px){
    .navbar{
        padding:15px 18px 12px;
    }

    .logo-container{
        width:100px;
        height:100px;
    }

    .nav-button{
        padding:8px 16px;
        font-size:13px;
        border-width:2px;
    }

    .content-wrapper{
        padding:12px 18px 25px;
        gap:25px;
    }

    .left-content h1{
        font-size:32px;
        margin-bottom:20px;
    }

    .left-content p{
        font-size:16px;
        margin-bottom:15px;
    }

    .stats-container{
        grid-template-columns:1fr;
        max-width:320px;
        gap:12px;
        margin:25px 0;
    }

    .stat-item{
        padding:18px 15px;
    }

    .stat-number{
        font-size:28px;
    }

    .stat-label{
        font-size:13px;
    }

    .cta-button{
        padding:14px 30px;
        font-size:16px;
    }

    .main-image-container{
        width:290px;
        height:360px;
    }

    .about-section{
        width:290px;
        padding:22px 24px;
    }

    .about-title{
        font-size:22px;
        margin-bottom:15px;
    }

    .about-text{
        font-size:14px;
    }

    .footer{
        padding:30px 18px;
        margin-top:50px;
    }

    /* Music Toggle Mobile */
    .music-toggle{
        width:55px;
        height:55px;
        bottom:20px;
        right:20px;
    }

    .music-icon{
        font-size:22px;
    }
}

@media(max-width:360px){
    .logo-container{
        width:90px;
        height:90px;
    }
    
    .left-content h1{
        font-size:28px;
    }
    
    .left-content p{
        font-size:15px;
    }
    
    .content-wrapper{
        padding:10px 15px 20px;
    }
    
    .main-image-container{
        width:260px;
        height:320px;
        padding:10px;
    }
    
    .about-section{
        width:260px;
        padding:18px 20px;
    }
    
    .nav-button{
        padding:7px 14px;
        font-size:12px;
    }
    
    .cta-button{
        padding:12px 25px;
        font-size:15px;
    }

    .stat-item{
        padding:16px 12px;
    }

    .stat-number{
        font-size:24px;
    }
}

/* Performance optimization for mobile */
@media(prefers-reduced-motion: reduce){
    *{
        animation-duration:0.01ms !important;
        animation-iteration-count:1 !important;
        transition-duration:0.01ms !important;
    }
}

</style>
</head>

<body>

<!-- Background Decorations -->
<div class="bg-decoration bg-circle-1"></div>
<div class="bg-decoration bg-circle-2"></div>
<div class="bg-decoration bg-circle-3"></div>

<div id="pjax-container" class="main-container">

    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="logo-container">
            <img src="{% static 'logo1.png' %}" class="logo" alt="NERO Logo">
        </div>

        <div class="nav-buttons">
            <a href="#about" class="nav-button">ABOUT</a>
            <a href="#stats" class="nav-button">STATS</a>
            <a href="{% url 'choice_page' %}" class="nav-button login-btn">LOGIN / SIGN UP</a>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <div class="content-wrapper">
        
        <!-- Left Side -->
        <div class="left-content">
            <h1>Connecting Patients With The Right Clinics</h1>
            <p>NERO is a smart medical social platform that connects patients with clinics based on their specific case.</p>
            <p>Discover, communicate, book, and receive care â€” all in one place.</p>
            
            <!-- Stats Section -->
            <div class="stats-container" id="stats">
                <div class="stat-item">
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Partner Clinics</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">10K+</div>
                    <div class="stat-label">Patients Helped</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Support</div>
                </div>
            </div>
            
            <a href="{% url 'choice_page' %}" class="cta-button">
                Get Your Journey Started
                <span>â†’</span>
            </a>
        </div>
        
        <!-- Right Side -->
        <div class="right-content">
            <div class="main-image-container">
                <img src="{% static 'photo.jpeg' %}" class="main-image" alt="Medical Connection Platform">
            </div>
            
            <div class="about-section" id="about">
                <h3 class="about-title">About NERO</h3>
                <p class="about-text">We use advanced AI to match patients with specialized clinics based on medical history, location, and treatment requirements.</p>
                <p class="about-text">Our platform ensures you get the right care from the right professionals at the right time.</p>
            </div>
        </div>
        
    </div>

    </div> <!-- end #pjax-container -->

    <!-- Music controls: create only when no persistent player exists (avoids duplicates/restarts) -->
    <!-- If a global player is present (e.g. from base.html or another page), this code will reuse it. -->

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 NERO Medical Platform. All rights reserved.</p>
        <p>Need help? <a href="mailto:support@nero-medical.com">Contact our support team</a></p>
    </footer>
</div>

<script>
// PJAX-aware initializers
window.pjaxInit = function(){
    // Smooth scroll
    document.querySelectorAll('.nav-button[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if(targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }
        });
    });

    // Enhanced stat item interactions
    document.querySelectorAll('.stat-item').forEach((stat, index) => {
        stat.addEventListener('mouseenter', function() {
            this.style.transition = 'all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
        });
    });

    // Parallax effect for background circles on desktop
    if(window.innerWidth > 768) {
        document.addEventListener('mousemove', function(e) {
            const circles = document.querySelectorAll('.bg-decoration');
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;
            
            circles.forEach((circle, index) => {
                const speed = (index + 1) * 10;
                const xMove = (x - 0.5) * speed;
                const yMove = (y - 0.5) * speed;
                circle.style.transform = `translate(${xMove}px, ${yMove}px)`;
            });
        });
    }
    
    // Intersection Observer for scroll animations on mobile
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if(entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Image loading handlers
    const images = document.querySelectorAll('img');
    images.forEach(img => {
        img.onerror = function() {
            if(this.classList.contains('main-image')) {
                const parent = this.parentElement;
                parent.innerHTML = '<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, #f0f0f0, #e0e0e0);color:#666;font-size:16px;border-radius:32px;font-weight:600;">Medical Platform</div>';
            }
        };
    });

    // Logo click behavior
    const logoEl = document.querySelector('.logo-container');
    if (logoEl) {
        logoEl.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }

    // Login button ripple and animations
    const loginBtn = document.querySelector('.login-btn');
    if(loginBtn) {
        loginBtn.addEventListener('click', function(e) {
            const ripple = document.createElement('span');
            ripple.style.position = 'absolute';
            ripple.style.borderRadius = '50%';
            ripple.style.background = 'rgba(255,255,255,0.6)';
            ripple.style.width = '20px';
            ripple.style.height = '20px';
            ripple.style.left = (e.clientX - this.getBoundingClientRect().left - 10) + 'px';
            ripple.style.top = (e.clientY - this.getBoundingClientRect().top - 10) + 'px';
            ripple.style.pointerEvents = 'none';
            ripple.style.animation = 'rippleEffect 0.6s ease-out';
            this.appendChild(ripple);
            setTimeout(() => ripple.remove(), 600);
        });

        setInterval(() => {
            if(!loginBtn.matches(':hover')) {
                loginBtn.style.animation = 'none';
                setTimeout(() => {
                    loginBtn.style.animation = 'loginPulse 2.5s ease-in-out infinite, loginGlow 2s ease-in-out infinite';
                }, 10);
            }
        }, 8000);
    }

    // Trigger counter animation when stats are visible
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if(entry.isIntersecting && !entry.target.dataset.animated) {
                const number = entry.target.querySelector('.stat-number');
                const text = number.textContent;
                const hasPlus = text.includes('+');
                const value = parseInt(text.replace(/\D/g, ''));
                number.textContent = '0' + (hasPlus ? '+' : '');
                animateCounter(number, value, 1500);
                entry.target.dataset.animated = 'true';
            }
        });
    }, { threshold: 0.5 });

    document.querySelectorAll('.stat-item').forEach(stat => {
        statsObserver.observe(stat);
    });

};

// Run initializers on first load
if (window.pjaxInit) window.pjaxInit();

// Simple PJAX navigation for same-origin internal links to preserve audio
(function(){
    async function handleLinkClick(e){
        const a = e.target.closest('a');
        if (!a) return;
        const href = a.getAttribute('href');
        if (!href || href.startsWith('mailto:') || href.startsWith('tel:') || a.target === '_blank') return;
        const url = new URL(href, window.location.href);
        if (url.origin !== window.location.origin) return;

        e.preventDefault();
        try{
            const res = await fetch(url.href, { credentials: 'same-origin' });
            if (!res.ok) { window.location.href = url.href; return; }
            const text = await res.text();
            const parser = new DOMParser();
            const doc = parser.parseFromString(text, 'text/html');
                    const newContainer = doc.getElementById('pjax-container');
                    if (!newContainer) { window.location.href = url.href; return; }
                    try { document.head.innerHTML = doc.head.innerHTML; } catch(e) { console.warn('Head replace failed', e); }
                    const container = document.getElementById('pjax-container');
                    container.innerHTML = newContainer.innerHTML;
                    const newTitle = doc.querySelector('title');
                    if (newTitle) document.title = newTitle.textContent;
                    history.pushState({}, '', url.href);
                    if (window.pjaxInit) window.pjaxInit();
        }catch(err){ console.error('PJAX failed, falling back', err); window.location.href = url.href; }
    }

    document.addEventListener('click', function(e){
        const a = e.target.closest && e.target.closest('a');
        if (!a) return;
        const href = a.getAttribute('href') || '';
        if (href.startsWith('#')) return;
        handleLinkClick(e);
    });

    window.addEventListener('popstate', function(){
                fetch(location.href, { credentials: 'same-origin' }).then(res => res.text()).then(text => {
                    const doc = new DOMParser().parseFromString(text, 'text/html');
                    try { document.head.innerHTML = doc.head.innerHTML; } catch(e) { console.warn('Head replace failed', e); }
                    const newContainer = doc.getElementById('pjax-container');
                    if (newContainer) document.getElementById('pjax-container').innerHTML = newContainer.innerHTML;
                    if (window.pjaxInit) window.pjaxInit();
                }).catch(()=> location.reload());
    });
})();

// Enhanced stat item interactions
document.querySelectorAll('.stat-item').forEach((stat, index) => {
    stat.addEventListener('mouseenter', function() {
        this.style.transition = 'all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
    });
});

// Parallax effect for background circles on desktop
if(window.innerWidth > 768) {
    document.addEventListener('mousemove', function(e) {
        const circles = document.querySelectorAll('.bg-decoration');
        const x = e.clientX / window.innerWidth;
        const y = e.clientY / window.innerHeight;
        
        circles.forEach((circle, index) => {
            const speed = (index + 1) * 10;
            const xMove = (x - 0.5) * speed;
            const yMove = (y - 0.5) * speed;
            circle.style.transform = `translate(${xMove}px, ${yMove}px)`;
        });
    });
}

// Intersection Observer for scroll animations on mobile
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if(entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Image loading
const images = document.querySelectorAll('img');
images.forEach(img => {
    img.onerror = function() {
        if(this.classList.contains('main-image')) {
            const parent = this.parentElement;
            parent.innerHTML = '<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, #f0f0f0, #e0e0e0);color:#666;font-size:16px;border-radius:32px;font-weight:600;">Medical Platform</div>';
        }
    };
});

// Logo click
document.querySelector('.logo-container').addEventListener('click', function() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
});

// Login button special effects
const loginBtn = document.querySelector('.login-btn');
if(loginBtn) {
    // Add ripple effect on click
    loginBtn.addEventListener('click', function(e) {
        const ripple = document.createElement('span');
        ripple.style.position = 'absolute';
        ripple.style.borderRadius = '50%';
        ripple.style.background = 'rgba(255,255,255,0.6)';
        ripple.style.width = '20px';
        ripple.style.height = '20px';
        ripple.style.left = (e.clientX - this.getBoundingClientRect().left - 10) + 'px';
        ripple.style.top = (e.clientY - this.getBoundingClientRect().top - 10) + 'px';
        ripple.style.pointerEvents = 'none';
        ripple.style.animation = 'rippleEffect 0.6s ease-out';
        
        this.appendChild(ripple);
        
        setTimeout(() => ripple.remove(), 600);
    });
    
    // Periodic attention animation
    setInterval(() => {
        if(!loginBtn.matches(':hover')) {
            loginBtn.style.animation = 'none';
            setTimeout(() => {
                loginBtn.style.animation = 'loginPulse 2.5s ease-in-out infinite, loginGlow 2s ease-in-out infinite';
            }, 10);
        }
    }, 8000);
}

// Add ripple animation to CSS
const style = document.createElement('style');
style.textContent = `
    @keyframes rippleEffect {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);

// Counter animation for stats
function animateCounter(element, target, duration) {
    let start = 0;
    const increment = target / (duration / 16);
    const timer = setInterval(() => {
        start += increment;
        if(start >= target) {
            element.textContent = target + (element.textContent.includes('+') ? '+' : '');
            clearInterval(timer);
        } else {
            element.textContent = Math.floor(start) + (element.textContent.includes('+') ? '+' : '');
        }
    }, 16);
}

// Trigger counter animation when stats are visible
const statsObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if(entry.isIntersecting && !entry.target.dataset.animated) {
            const number = entry.target.querySelector('.stat-number');
            const text = number.textContent;
            const hasPlus = text.includes('+');
            const value = parseInt(text.replace(/\D/g, ''));
            
            number.textContent = '0' + (hasPlus ? '+' : '');
            animateCounter(number, value, 1500);
            entry.target.dataset.animated = 'true';
        }
    });
}, { threshold: 0.5 });

document.querySelectorAll('.stat-item').forEach(stat => {
    statsObserver.observe(stat);
});
    // Music: ensure one persistent player only. Create controls only if missing.
    (function(){
        const STORAGE_KEY_PLAYING = 'nero_music_playing';
        const STORAGE_KEY_TIME = 'nero_music_time';

        // Ensure music controls exist and are visible. If DOM not ready, wait for it.
        (function ensureMusicControls() {
            function createIfMissing() {
                let musicToggle = document.getElementById('musicToggle');
                let bgMusic = document.getElementById('bgMusic');

                if (!musicToggle) {
                    musicToggle = document.createElement('button');
                    musicToggle.className = 'music-toggle';
                    musicToggle.id = 'musicToggle';
                    musicToggle.setAttribute('aria-label', 'Toggle background music');
                    musicToggle.innerHTML = '<span class="music-icon">ðŸ”‡</span>';
                    // ensure visible and interactive
                    musicToggle.style.display = 'flex';
                    musicToggle.style.zIndex = '2000';
                    musicToggle.style.pointerEvents = 'auto';
                    document.body.appendChild(musicToggle);
                    console.log('Music toggle created on landing page');
                }

                if (!bgMusic) {
                    bgMusic = document.createElement('audio');
                    bgMusic.id = 'bgMusic';
                    bgMusic.loop = true;
                    bgMusic.preload = 'auto';
                    bgMusic.style.display = 'none';
                    const src = document.createElement('source');
                    src.src = "{% static 'fantasy-music-mage-terrace-cu3ljg1jjhg.mp3' %}";
                    src.type = 'audio/mpeg';
                    bgMusic.appendChild(src);
                    document.body.appendChild(bgMusic);
                    console.log('bgMusic element created on landing page');
                }

                // Diagnostics: log computed style and rect so we can see if CSS hides it
                try {
                    const toggle = document.getElementById('musicToggle');
                    const style = window.getComputedStyle(toggle);
                    console.log('musicToggle computed style', { display: style.display, visibility: style.visibility, opacity: style.opacity, zIndex: style.zIndex });
                    console.log('musicToggle rect', toggle.getBoundingClientRect());
                } catch (e) {}

                // Return the elements for the rest of the initialization
                return { musicToggle: document.getElementById('musicToggle'), bgMusic: document.getElementById('bgMusic') };
            }

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    window.__nero_music_elems = createIfMissing();
                });
            } else {
                window.__nero_music_elems = createIfMissing();
            }
        })();

        // Grab created elements (ensureMusicControls stores them on window.__nero_music_elems)
        let musicToggle = (window.__nero_music_elems && window.__nero_music_elems.musicToggle) || document.getElementById('musicToggle');
        let bgMusic = (window.__nero_music_elems && window.__nero_music_elems.bgMusic) || document.getElementById('bgMusic');

        // Reuse same logic as other pages (timestamped saves handled elsewhere)
        let saveInterval = null;
        function updateButton(paused){
            if (!musicToggle) return;
            const icon = musicToggle.querySelector('.music-icon');
            musicToggle.classList.toggle('playing', !paused);
            musicToggle.setAttribute('aria-pressed', String(!paused));
            if (icon) icon.textContent = paused ? 'ðŸ”‡' : 'ðŸ”Š';
        }

        function startSaving(){
            if (saveInterval) clearInterval(saveInterval);
            saveInterval = setInterval(() => {
                try {
                    const t = String(bgMusic.currentTime);
                    const ts = String(Date.now());
                    localStorage.setItem(STORAGE_KEY_TIME, t);
                    localStorage.setItem(STORAGE_KEY_TIME + '_ts', ts);
                    localStorage.setItem(STORAGE_KEY_TIME + '_bak', t);
                    localStorage.setItem(STORAGE_KEY_TIME + '_bak_ts', ts);
                } catch(e){}
            }, 250);
        }

        function stopSaving(){ if (saveInterval) { clearInterval(saveInterval); saveInterval = null; } try { const t = String(bgMusic.currentTime); const ts = String(Date.now()); localStorage.setItem(STORAGE_KEY_TIME, t); localStorage.setItem(STORAGE_KEY_TIME + '_ts', ts); } catch(e){} }
        // Immediate save helper used before navigation to avoid losing the latest position
        function saveNow(){ try { if (bgMusic) { const t = String(bgMusic.currentTime); const ts = String(Date.now()); localStorage.setItem(STORAGE_KEY_TIME, t); localStorage.setItem(STORAGE_KEY_TIME + '_ts', ts); localStorage.setItem(STORAGE_KEY_TIME + '_bak', t); localStorage.setItem(STORAGE_KEY_TIME + '_bak_ts', ts); localStorage.setItem(STORAGE_KEY_PLAYING, bgMusic && !bgMusic.paused ? 'true' : 'false'); } } catch(e){} }

        // Save immediately when the user clicks any internal navigation link or submits a form
        document.addEventListener('click', function(e){
            const a = e.target.closest && e.target.closest('a');
            if (!a) return;
            const href = a.getAttribute('href') || '';
            if (href.startsWith('mailto:') || href.startsWith('tel:') || a.target === '_blank') return;
            // internal navigation - save current playback state immediately
            saveNow();
        }, { capture: true });

        document.addEventListener('submit', function(){ saveNow(); }, { capture: true });
        function markPlaying(isPlaying){ try { localStorage.setItem(STORAGE_KEY_PLAYING, isPlaying ? 'true' : 'false'); } catch(e){} }

        // Initialize visual from saved state (do not force play)
        try {
            const wasSavedPlayingInit = localStorage.getItem(STORAGE_KEY_PLAYING) === 'true';
            const isPaused = !(bgMusic && typeof bgMusic.paused !== 'undefined') ? true : bgMusic.paused;
            if (wasSavedPlayingInit) updateButton(false); else updateButton(isPaused);
        } catch(e){
            const isPaused = !(bgMusic && typeof bgMusic.paused !== 'undefined') ? true : bgMusic.paused;
            updateButton(isPaused);
        }

        function attachMusicHandler() {
            if (!musicToggle) musicToggle = document.getElementById('musicToggle');
            if (!bgMusic) bgMusic = document.getElementById('bgMusic');
            if (!musicToggle) { console.warn('attachMusicHandler: musicToggle not found'); return; }

            musicToggle.addEventListener('click', function(e){
                console.log('musicToggle clicked', { paused: !!(bgMusic && bgMusic.paused) });
                e.preventDefault();
                if (!bgMusic) { console.warn('No bgMusic element available'); return; }

                if (bgMusic.paused) {
                    const p = bgMusic.play();
                    if (p && typeof p.then === 'function') {
                        p.then(() => {
                            console.log('bgMusic.play() succeeded');
                            updateButton(false); markPlaying(true); startSaving();
                        }).catch(err => {
                            console.warn('Audio playback failed:', err);
                            // show UI change to indicate attempted play
                            updateButton(true);
                            markPlaying(false);
                        });
                    } else {
                        updateButton(false); markPlaying(true); startSaving();
                    }
                } else {
                    bgMusic.pause();
                    updateButton(true);
                    markPlaying(false);
                    stopSaving();
                }
            });

            // audio diagnostics
            try {
                bgMusic.addEventListener('error', function(ev){ console.error('bgMusic error event', ev, bgMusic.error); });
                bgMusic.addEventListener('stalled', () => console.warn('bgMusic stalled'));
                bgMusic.addEventListener('canplay', () => console.log('bgMusic canplay'));
                bgMusic.addEventListener('loadedmetadata', () => console.log('bgMusic loadedmetadata, duration', bgMusic.duration));
            } catch(e) {}
        }

        if (!musicToggle) {
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() { attachMusicHandler(); });
            } else {
                // try again shortly if DOM ready but element not present
                setTimeout(attachMusicHandler, 50);
            }
        } else {
            attachMusicHandler();
        }

        // Resume behavior: prefer freshest timestamped time
        (function tryResume(){
            const wasPlaying = localStorage.getItem(STORAGE_KEY_PLAYING) === 'true';
            function getLatestSavedTime(){ try { const tA = localStorage.getItem(STORAGE_KEY_TIME); const tsA = parseInt(localStorage.getItem(STORAGE_KEY_TIME + '_ts') || '0', 10) || 0; const tB = localStorage.getItem(STORAGE_KEY_TIME + '_bak'); const tsB = parseInt(localStorage.getItem(STORAGE_KEY_TIME + '_bak_ts') || '0', 10) || 0; if (tsB > tsA && tB) return parseFloat(tB || '0'); if (tA) return parseFloat(tA || '0'); } catch(e){} return 0; }
            const savedTime = getLatestSavedTime();
            if (!wasPlaying) { updateButton(bgMusic.paused); return; }
            function doSeekAndPlay(){ if (!isNaN(savedTime) && savedTime >= 0) { try { bgMusic.currentTime = Math.max(0, Math.min(savedTime, isFinite(bgMusic.duration) ? bgMusic.duration : savedTime)); } catch(e){} } const p = bgMusic.play(); if (p && typeof p.then === 'function') { p.then(() => { updateButton(false); markPlaying(true); startSaving(); }).catch(err => { console.warn('Resume audio failed:', err); }); } else { updateButton(false); markPlaying(true); startSaving(); } }
            if (bgMusic.readyState >= 1 && !isNaN(bgMusic.duration) && bgMusic.duration > 0) doSeekAndPlay(); else { const onLoaded = function(){ bgMusic.removeEventListener('loadedmetadata', onLoaded); const onCan = function(){ bgMusic.removeEventListener('canplay', onCan); doSeekAndPlay(); }; bgMusic.addEventListener('canplay', onCan, { once: true }); }; bgMusic.addEventListener('loadedmetadata', onLoaded, { once: true });}
        })();

        // Save time on visibility change / unload
        document.addEventListener('visibilitychange', function(){ try { const t = String(bgMusic.currentTime); const ts = String(Date.now()); localStorage.setItem(STORAGE_KEY_TIME, t); localStorage.setItem(STORAGE_KEY_TIME + '_ts', ts); localStorage.setItem(STORAGE_KEY_TIME + '_bak', t); localStorage.setItem(STORAGE_KEY_TIME + '_bak_ts', ts); } catch(e){} });
        window.addEventListener('beforeunload', function(){ try { const t = String(bgMusic.currentTime); const ts = String(Date.now()); localStorage.setItem(STORAGE_KEY_TIME, t); localStorage.setItem(STORAGE_KEY_TIME + '_ts', ts); localStorage.setItem(STORAGE_KEY_TIME + '_bak', t); localStorage.setItem(STORAGE_KEY_TIME + '_bak_ts', ts); } catch(e){} });
    })();
console.log('ðŸŽ¨ NERO Enhanced Landing Page Loaded Successfully');

</script>

</body>
</html>